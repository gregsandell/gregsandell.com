<style type="text/css">ol.lst-kix_i8urvfwo8omz-1.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-1 0}.lst-kix_i8urvfwo8omz-0>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-0,decimal) ". "}.lst-kix_i8urvfwo8omz-5>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-5}.lst-kix_i8urvfwo8omz-1>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-1,lower-latin) ". "}.lst-kix_i8urvfwo8omz-8>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-8}ol.lst-kix_i8urvfwo8omz-6.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-6 0}ol.lst-kix_i8urvfwo8omz-3{list-style-type:none}ol.lst-kix_i8urvfwo8omz-4{list-style-type:none}ol.lst-kix_i8urvfwo8omz-5{list-style-type:none}.lst-kix_i8urvfwo8omz-6>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-6,decimal) ". "}ol.lst-kix_i8urvfwo8omz-6{list-style-type:none}ol.lst-kix_i8urvfwo8omz-0{list-style-type:none}ol.lst-kix_i8urvfwo8omz-1{list-style-type:none}ol.lst-kix_i8urvfwo8omz-2{list-style-type:none}.lst-kix_i8urvfwo8omz-5>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-5,lower-roman) ". "}ol.lst-kix_i8urvfwo8omz-5.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-5 0}ol.lst-kix_i8urvfwo8omz-3.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-3 0}ol.lst-kix_i8urvfwo8omz-0.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-0 0}.lst-kix_i8urvfwo8omz-2>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-2,lower-roman) ". "}.lst-kix_i8urvfwo8omz-4>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-4,lower-latin) ". "}ol.lst-kix_i8urvfwo8omz-7{list-style-type:none}ol.lst-kix_i8urvfwo8omz-8{list-style-type:none}ol.lst-kix_i8urvfwo8omz-8.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-8 0}.lst-kix_i8urvfwo8omz-2>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-2}.lst-kix_i8urvfwo8omz-3>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-3,decimal) ". "}ol.lst-kix_i8urvfwo8omz-7.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-7 0}.lst-kix_i8urvfwo8omz-3>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-3}.lst-kix_i8urvfwo8omz-1>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-1}ol.lst-kix_i8urvfwo8omz-2.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-2 0}.lst-kix_i8urvfwo8omz-6>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-6}.lst-kix_i8urvfwo8omz-7>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-7,lower-latin) ". "}.lst-kix_i8urvfwo8omz-7>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-7}.lst-kix_i8urvfwo8omz-8>li:before{content:"" counter(lst-ctn-kix_i8urvfwo8omz-8,lower-roman) ". "}.lst-kix_i8urvfwo8omz-0>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-0}.lst-kix_i8urvfwo8omz-4>li{counter-increment:lst-ctn-kix_i8urvfwo8omz-4}ol.lst-kix_i8urvfwo8omz-4.start{counter-reset:lst-ctn-kix_i8urvfwo8omz-4 0}ol{margin:0;padding:0}table td,table th{padding:0}.c2{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c15{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c0{margin-left:36pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:italic}.c12{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Times New Roman"}.c8{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c6{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c13{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;text-align:left}.c17{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c16{padding:0;margin:0}.c11{text-decoration:underline}.c9{padding-left:0pt}.c4{height:11pt}.c10{font-style:italic}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style>
<h1 class="techTitle">Javascript Hoisting</h1>
<br/>
      <p class="c5"><span class="c12">Q: What is hoisting?</span></p>
      <p class="c5"><span class="c1">A: Function declarations are always moved (&quot;hoisted&quot;) invisibly to the top of their containing scope by the JavaScript interpreter. &nbsp;But the assignment is not hoisted; it happens at the spot where it is executed. &nbsp;</span></p>
      <p class="c5"><span class="c10">Anonymous functions such as &lsquo;var foo = function() {};&rsquo; are the same; declaration hoisted to top, assignment at the spot. &nbsp;But </span><span class="c11 c10">named functions</span><span class="c10">&nbsp;are automatically hoisted (name </span><span class="c10 c11">and</span><span class="c1">&nbsp;assignment): &nbsp;&lsquo;function foo() {};&rsquo; can be called before it is inserted because it has been hoisted to the top.</span></p>
      <p class="c5 c4"><span class="c1"></span></p>
      <p class="c5"><span class="c12">Q: When a script needs to evaluate &quot;foo&quot; in the scope of a function, in what order does Javascript look for the value?</span></p>
      <p class="c5"><span class="c10 c14">A: JavaScript will lookup the name in the following order:</span></p>
      <ol class="c16 lst-kix_i8urvfwo8omz-0 start" start="1">
         <li class="c0 c9"><span class="c1">In case there is a var foo statement in the current scope, use that.</span></li>
         <li class="c0 c9"><span class="c1">If one of the function parameters is named foo, use that.</span></li>
         <li class="c0 c9"><span class="c1">If the function itself is called foo, use that.</span></li>
         <li class="c0 c9"><span class="c1">Go to the next outer scope, and start with #1 again. &nbsp;(all the way up to window object)</span></li>
      </ol>
      <p class="c5 c4"><span class="c1"></span></p>
      <h2 class="c8" id="h.lsvryhleu96w"><span class="c7">Hoisting Code Tricks</span></h2>
      <p class="c5 c4"><span class="c3"></span></p>
      <p class="c5"><span class="c3">Here are the tricks, can you answer them correctly? &nbsp;Solutions and explanations follow.</span></p>
      <p class="c5 c4"><span class="c3"></span></p>
      <h3 class="c6" id="h.chw5aapr3zn8"><span class="c2">Trick 1</span></h3>
      <p class="c0"><span class="c1">var foo = &quot;foo&quot;;</span></p>
      <p class="c0"><span class="c1">console.log(foo); // what will this print?</span></p>
      <p class="c0"><span class="c1">&nbsp;(function () { </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; console.log(foo); // What will this print?</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; var foo = &quot;zoo&quot;; &nbsp;}</span></p>
      <p class="c0"><span class="c1">)();</span></p>
      <p class="c5 c4"><span class="c3"></span></p>
      <h3 class="c6" id="h.a9augem8x3ie"><span class="c2">Trick 2</span></h3>
      <p class="c0"><span class="c1">foo(5); &nbsp; // What happens here?, </span></p>
      <p class="c0"><span class="c1">var foo = function(num) { console.log(num); };</span></p>
      <h3 class="c6" id="h.72p4e23p01fn"><span class="c2">Trick 3</span></h3>
      <p class="c0"><span class="c1">(function() {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; console.log(typeof greet); &nbsp; &nbsp;// What does it print?</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; greet(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// What happens here?</span></p>
      <p class="c0"><span class="c1">&nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; function greet() { &nbsp;d</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; alert(&quot;hello!&quot;);</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p>
      <p class="c0"><span class="c1">})();</span></p>
      <p class="c5 c4"><span class="c3"></span></p>
      <h3 class="c6" id="h.yp3q8h1wo5zy"><span class="c2">Trick 4</span></h3>
      <p class="c0"><span class="c1">(function() {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; var a = &quot;initial&quot;;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; If (a) {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; function f() { &nbsp; &nbsp; &nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(&quot;1&quot;); </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }; &nbsp; &nbsp; &nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; } else {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; function f() { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(&quot;2&quot;); </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }; &nbsp; &nbsp; &nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;}</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; f(); &nbsp; &nbsp;// What gets printed?</span></p>
      <p class="c0"><span class="c1">})();</span></p>
      <p class="c0 c4"><span class="c1"></span></p>
      <p class="c5"><span class="c3">Trick 5</span></p>
      <p class="c0"><span class="c1">var a = 1;</span></p>
      <p class="c0"><span class="c1">function go(){</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; console.log(a);</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; var a = 2; &nbsp; &nbsp;</span></p>
      <p class="c0"><span class="c1">}</span></p>
      <p class="c0"><span class="c1">go(); &nbsp; &nbsp; &nbsp;// What gets printed?</span></p>
      <p class="c0 c4"><span class="c1"></span></p>
      <p class="c5"><span class="c3">Trick 6</span></p>
      <p class="c0"><span class="c1">var a = 1;</span></p>
      <p class="c0"><span class="c1">console.log(a); &nbsp; &nbsp;// What gets printed?</span></p>
      <p class="c0"><span class="c1">var a = 2; </span></p>
      <p class="c0 c4"><span class="c1"></span></p>
      <p class="c5"><span class="c3">Trick 7</span></p>
      <p class="c0"><span class="c1">(function() { &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;var foo = 1; &nbsp; &nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;function bar() {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var foo = 2; &nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;}</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;bar(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;console.log(foo); &nbsp; &nbsp; &nbsp;//What gets printed?</span></p>
      <p class="c0"><span class="c1">})</span></p>
      <p class="c0 c4"><span class="c1"></span></p>
      <h3 class="c6" id="h.9h1f8ahh2rrq"><span class="c2">Trick 1</span></h3>
      <p class="c0"><span class="c1">var foo = &quot;foo&quot;;</span></p>
      <p class="c0"><span class="c1">console.log(foo); // print foo</span></p>
      <p class="c0"><span class="c1">&nbsp;(function () {</span></p>
      <p class="c0"><span class="c1">&nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; console.log(foo); // THIS PRINTS UNDEFINED</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; var foo = &quot;zoo&quot;; &nbsp; // Because this foo has been hoisted to the scope of </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// the owning function (of which there is none) so it is a property </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp;of window. &nbsp;Thus is has overwritten the previous foo </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// assignment. &nbsp;But since the hoisting only accomplishes</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// declaration and not assignment, foo is undefined.</span></p>
      <p class="c0"><span class="c1">}</span></p>
      <p class="c0"><span class="c1">)();</span></p>
      <p class="c5 c4"><span class="c3"></span></p>
      <h3 class="c6" id="h.3c733wk5hvt9"><span class="c2">Trick 2</span></h3>
      <p class="c0"><span class="c1">foo(5); &nbsp; // FAILS. &nbsp;(&lsquo;foo is not a function&rsquo;). &nbsp;The declaration of foo below is hoisted, </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp;but not the assignment. The named function foo does not exist yet.</span></p>
      <p class="c0"><span class="c1">var foo = function(num) { console.log(num); };</span></p>
      <h3 class="c6" id="h.yghsoro61vtp"><span class="c2">Trick 3</span></h3>
      <p class="c0"><span class="c1">(function() {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; console.log(typeof greet); &nbsp; &nbsp;// prints &quot;function&quot;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; greet(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// prints &lsquo;hello&rsquo;</span></p>
      <p class="c0"><span class="c1">&nbsp;</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; function greet() { &nbsp;// This is a named function, gets automatically hoisted</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; console.log(&quot;hello!&quot;);</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p>
      <p class="c0"><span class="c1">})();</span></p>
      <p class="c4 c5"><span class="c3"></span></p>
      <h3 class="c6" id="h.g82mimp2et6c"><span class="c2">Trick 4</span></h3>
      <p class="c5"><span>It prints &ldquo;2&rdquo;. &nbsp;Function hoisting is not dependent on if statements. &nbsp;The hoisting happens regardless of whether the condition passes or not. &nbsp;Both f() functions get hoisted (declaration and value), and the second overwrites the first. &nbsp;</span></p>
      <p class="c0 c4"><span class="c1"></span></p>
      <p class="c5"><span class="c3">Trick 5</span></p>
      <p class="c0"><span class="c1">var a = 1;</span></p>
      <p class="c0"><span class="c1">function go(){</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; console.log(a);</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; var a = 2; &nbsp; &nbsp;// Declaration is hoisted to top of g()</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// and resets a to undefined in go&rsquo;s scope. &nbsp;The assignment to 2 happens</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp;after the console.log is called</span></p>
      <p class="c0"><span class="c1">}</span></p>
      <p class="c0"><span class="c1">go(); &nbsp; &nbsp; &nbsp;// prints undefined</span></p>
      <p class="c0 c4"><span class="c1"></span></p>
      <p class="c5"><span class="c3">Trick 6</span></p>
      <p class="c0"><span class="c1">var a = 1;</span></p>
      <p class="c0"><span class="c1">console.log(a); &nbsp; &nbsp;// It DOES print 1</span></p>
      <p class="c0"><span class="c1">var a = 2; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // This is hoisted to the same scope (window) scope, but it </span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // happens after the console.log call, a is still 1.</span></p>
      <p class="c5"><span class="c3">Trick 7</span></p>
      <p class="c0"><span class="c1">(function() { &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp;anonymous scope</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;var foo = 1; &nbsp; &nbsp;// Hoists to top &nbsp;(right here)</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;function bar() {</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var foo = 2; &nbsp;// Hoists and defines only in scope of bar</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;}</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;bar(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp;anonymous scope&rsquo;d foo has NOT been redefined</span></p>
      <p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp;console.log(foo); &nbsp; &nbsp; &nbsp;//outputs 1</span></p>
      <p class="c0"><span class="c1">})</span></p>
      <p class="c5 c4"><span class="c3"></span></p>
      <p class="c5 c4"><span class="c1"></span></p>
      <p class="c5 c4"><span class="c1"></span></p>
      <p class="c5 c4"><span class="c3"></span></p>